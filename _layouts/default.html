<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}{% if site.affiliation and page.layout == "homepage" %} | {{ site.affiliation }}{% endif %}</title>
    <meta name="description" content="{{ site.description }}">
    <meta name="keywords" content="{{ site.keywords }}">
    <link rel="canonical" href="{{ site.canonical }}"/>

    <link rel="icon" media="(prefers-color-scheme:dark)" href="{{ site.favicon_dark }}" type="image/png" />
    <link rel="icon" media="(prefers-color-scheme:light)" href="{{ site.favicon }}" type="image/png" />
    <script src="/assets/js/favicon-switcher.js" type="application/javascript"></script>

    <!-- 외부 아이콘 스타일 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- 공통 스타일시트 -->
    <link rel="stylesheet" href="/assets/css/top-menu.css?v={{ site.time | date: '%s' }}">
    {% if site.font == "Sans Serif" %}
      <link rel="stylesheet" href="/assets/css/font_sans_serif.css?v={{ site.time | date: '%s' }}">
    {% else %}
      <link rel="stylesheet" href="/assets/css/font.css?v={{ site.time | date: '%s' }}">
    {% endif %}
    <link rel="stylesheet" href="/assets/css/style-no-dark-mode.css?v={{ site.time | date: '%s' }}">
    <link rel="stylesheet" href="/assets/css/publications-no-dark-mode.css?v={{ site.time | date: '%s' }}">
    <link rel="stylesheet" href="/assets/css/custom-theme.css?v={{ site.time | date: '%s' }}">

    {% if page.extra_head %}
      {{ page.extra_head }}
    {% endif %}
  </head>
  <!-- 상단 메뉴바 -->
  <nav class="top-menu">
    <ul>
      <li><a href="/">About Me</a></li>
      <li><a href="/playground">Playground</a></li>
      <li><a href="/posts">Posts</a></li>
    </ul>
  </nav>
  <body>

    <div class="wrapper">
      <!-- 공통 헤더 -->
      <header>
        {% if site.avatar %}
          <a class="image avatar"><img src="{{ site.avatar }}" alt="avatar" /></a>
        {% endif %}

        <h1>{{ site.title }}</h1>

        {% if site.position %}
          <position style="font-size:1.10rem;">{{ site.position }}</position>
          <br>
        {% endif %}
        {% if site.affiliation %}
          <a href="{{ site.affiliation_link }}" rel="noopener">
            <autocolor>{{ site.affiliation }}</autocolor>
          </a>
          <br>
        {% endif %}
        {% if site.email %}
          <email>{{ site.email }}</email>
        {% endif %}
        <div class="social-icons">
          {% if site.google_scholar %}
            <a style="margin: 0 5px 0 0" href="{{ site.google_scholar }}">
              <i class="ai ai-google-scholar" style="font-size:1.2rem"></i>
            </a>  
          {% endif %}
          {% if site.cv_link %}
            <a style="margin: 0 5px 0 0" href="{{ site.cv_link }}">
              <i class="ai ai-cv" style="font-size:1.3rem;"></i>
            </a>
          {% endif %}
          {% if site.github_link %}
            <a style="margin: 0 5px 0 0" href="{{ site.github_link }}">
              <i class="fab fa-github"></i>
            </a>
          {% endif %}
          {% if site.linkedin %}
            <a style="margin: 0 5px 0 0" href="{{ site.linkedin }}">
              <i class="fab fa-linkedin"></i>
            </a>
          {% endif %}
          {% if site.twitter %}
            <a style="margin: 0 0 0 0" href="{{ site.twitter }}">
              <i class="fab fa-x-twitter"></i>
            </a>
          {% endif %}
        </div>
      </header>

      <!-- 페이지별 콘텐츠 영역 -->
      <section>
        {{ content }}
      </section>

      <!-- 공통 푸터 -->
      <footer>
        <p>&copy; {{ site.time | date: "%Y" }} {{ site.title }}</p>
      </footer>
    </div>

    <script src="/assets/js/scale.fix.js"></script>
    {% if site.google_analytics %}
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', '{{ site.google_analytics }}', 'auto');
      ga('send', 'pageview');
    </script>
    {% endif %}

    <!-- 스크롤 시 상단 메뉴바 숨김/표시 스크립트 -->
    <script>
      var prevScrollpos = window.pageYOffset;
      window.onscroll = function() {
        var currentScrollPos = window.pageYOffset;
        if (prevScrollpos > currentScrollPos) {
          document.querySelector('.top-menu').style.transform = "translateY(0)";
        } else {
          document.querySelector('.top-menu').style.transform = "translateY(-100%)";
        }
        prevScrollpos = currentScrollPos;
      }
    </script>
  </body>
</html>
